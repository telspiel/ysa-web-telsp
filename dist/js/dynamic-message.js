/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/ 		var executeModules = data[2];
/******/
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 		// add entry modules from loaded chunk to deferred list
/******/ 		deferredModules.push.apply(deferredModules, executeModules || []);
/******/
/******/ 		// run deferred modules when all chunks ready
/******/ 		return checkDeferredModules();
/******/ 	};
/******/ 	function checkDeferredModules() {
/******/ 		var result;
/******/ 		for(var i = 0; i < deferredModules.length; i++) {
/******/ 			var deferredModule = deferredModules[i];
/******/ 			var fulfilled = true;
/******/ 			for(var j = 1; j < deferredModule.length; j++) {
/******/ 				var depId = deferredModule[j];
/******/ 				if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 			}
/******/ 			if(fulfilled) {
/******/ 				deferredModules.splice(i--, 1);
/******/ 				result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 			}
/******/ 		}
/******/
/******/ 		return result;
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"dynamic-message": 0
/******/ 	};
/******/
/******/ 	var deferredModules = [];
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// add entry module to deferred list
/******/ 	deferredModules.push(["./src/layouts/dynamic-message/index.js","common"]);
/******/ 	// run deferred modules when ready
/******/ 	return checkDeferredModules();
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/css-loader/index.js!./src/layouts/dynamic-message/styles.css":
/*!**************************************************************************!*\
  !*** ./node_modules/css-loader!./src/layouts/dynamic-message/styles.css ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../../node_modules/css-loader/lib/css-base.js */ \"./node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.i, \".controls-form button {\\n  background: var(--primary-color);\\n  border-color: var(--primary-color);\\n  width: 50%;\\n}\\n\\n.table-pagination li a {\\n  color: var(--primary-color);\\n}\\n\\n#pagePrev, #pageNext {\\n  display: none;\\n}\\n#misTable_filter,#misTable_info{\\ndisplay:none;\\n}\\n\\n.table td, .table th {\\n  white-space: break-spaces !important;\\n}\", \"\"]);\n\n// exports\n\n\n//# sourceURL=webpack:///./src/layouts/dynamic-message/styles.css?./node_modules/css-loader");

/***/ }),

/***/ "./src/layouts/dynamic-message/index.js":
/*!**********************************************!*\
  !*** ./src/layouts/dynamic-message/index.js ***!
  \**********************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _scripts_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../../scripts/app */ \"./src/scripts/app.js\");\n/* harmony import */ var _styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./styles */ \"./src/layouts/dynamic-message/styles.css\");\n/* harmony import */ var _styles__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _scripts_request__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../../scripts/request */ \"./src/scripts/request.js\");\n/* harmony import */ var _scripts_user__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../../scripts/user */ \"./src/scripts/user.js\");\n/* harmony import */ var _config_endpoints__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../../../config/endpoints */ \"./config/endpoints.js\");\n/* harmony import */ var _scripts_alert__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./../../scripts/alert */ \"./src/scripts/alert.js\");\n\n\n\n\n\n\n\n\nconst table = __webpack_require__(/*! ./../../partials/table.hbs */ \"./src/partials/table.hbs\");\n\nconsole.log(\"Welcome to dynamic message!\");\n\nvar uploadedFileName = '';\nvar uploadedZipFileNames = [];\n\nif (!_scripts_user__WEBPACK_IMPORTED_MODULE_3__[\"default\"].isLoggedIn()) {\n  window.location.href = \"/login\";\n}\n\nconsole.log = function () {};\n\nconst data = {\n  loggedInUserName: _scripts_user__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getName()\n};\n\nvar domainSelect = document.getElementById(\"domain\");\nObject(_scripts_request__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_config_endpoints__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get(\"getApprovedDomainList\"), \"POST\", data).done(data => {\n  const gpList = data.data.hostNameList;\n  console.log(gpList);\n  $.each(gpList, function (key, value) {\n    domainSelect.options[domainSelect.options.length] = new Option(value.domainName, value.domainName);\n  });\n});\n\n$('input[type=radio][name=fileType]').change(function () {\n  if (this.value == 'zip') {\n    $(\".splitFileGroup\").addClass(\"d-none\");\n  } else {\n    $(\".splitFileGroup\").removeClass(\"d-none\");\n  }\n});\n\n$(document).ready(function () {\n  // const visual = User.getShortUrlVisual();\n  // console.log(visual);\n\n  const visual = _scripts_user__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getShortUrlVisual();\n  if (visual == \"true\") {\n    $(\".convShortUrlDiv\").removeClass(\"d-none\");\n    $(\".domainDiv\").removeClass(\"d-none\");\n    $(\".callBackDomainUrlDiv\").removeClass(\"d-none\");\n  } else {\n    $(\".convShortUrlDiv\").addClass(\"d-none\");\n    $(\".domainDiv\").addClass(\"d-none\");\n    $(\".callBackDomainUrlDiv\").addClass(\"d-none\");\n  }\n\n  $(\"#scheduleDateTime\").datetimepicker({\n    minDate: new Date(),\n    minTime: new Date(),\n    dateFormat: 'yyyy-mm-dd',\n    timeFormat: 'HH:mm:ss',\n    format: 'Y-m-d H:i',\n    scrollInput: false,\n    timepicker: true,\n    scrollMonth: false,\n    scrollInput: false,\n    yearStart: new Date().getFullYear(),\n    yearEnd: new Date().getFullYear() + 1,\n    step: 1,\n    onSelectDate: function (current_time, $input) {\n      if (current_time.getTime() < new Date().getTime()) {\n        this.setOptions({\n          timepicker: false\n        });\n      } else if (current_time.getTime() > new Date().getTime()) {\n        this.setOptions({\n          minTime: false,\n          timepicker: true\n        });\n      } else if (current_time.getTime() === new Date().getTime()) {\n        this.setOptions({\n          minTime: '0',\n          timepicker: true\n        });\n      }\n\n      if (current_time.getDate() === new Date().getDate() && current_time.getMonth() === new Date().getMonth() && current_time.getFullYear() === new Date().getFullYear()) {\n        this.setOptions({\n          minTime: '0',\n          timepicker: true\n        });\n      }\n    },\n    onChangeMonth: function (current_time, $input) {\n      if (current_time.getTime() < new Date().getTime()) {\n        this.setOptions({\n          timepicker: false\n        });\n      } else if (current_time.getTime() > new Date().getTime()) {\n        this.setOptions({\n          minTime: false,\n          timepicker: true\n        });\n      } else if (current_time.getTime() === new Date().getTime()) {\n        this.setOptions({\n          minTime: '0',\n          timepicker: true\n        });\n      }\n\n      if (current_time.getDate() === new Date().getDate() && current_time.getMonth() === new Date().getMonth() && current_time.getFullYear() === new Date().getFullYear()) {\n        this.setOptions({\n          minTime: '0',\n          timepicker: true\n        });\n      }\n    },\n    onChangeYear: function (current_time, $input) {\n      if (current_time.getTime() < new Date().getTime()) {\n        this.setOptions({\n          timepicker: false\n        });\n      } else if (current_time.getTime() > new Date().getTime()) {\n        this.setOptions({\n          minTime: false,\n          timepicker: true\n        });\n      } else if (current_time.getTime() === new Date().getTime()) {\n        this.setOptions({\n          minTime: '0',\n          timepicker: true\n        });\n      }\n\n      if (current_time.getDate() === new Date().getDate() && current_time.getMonth() === new Date().getMonth() && current_time.getFullYear() === new Date().getFullYear()) {\n        this.setOptions({\n          minTime: '0',\n          timepicker: true\n        });\n      }\n    }\n  }).attr('readonly', 'readonly');\n\n  $(\"#scheduleDate\").datetimepicker({\n    timepicker: false,\n    minDate: '0',\n    minTime: '0',\n    dateFormat: 'yyyy-mm-dd',\n    format: 'Y-m-d',\n    closeOnDateSelect: true,\n    scrollMonth: false,\n    scrollInput: false,\n    yearStart: new Date().getFullYear(),\n    yearEnd: new Date().getFullYear() + 1\n  }).attr('readonly', 'readonly');\n});\n\n$(\"#addToMsg\").click(function (e) {\n  e.preventDefault();\n\n  var text = $('#msgText').val();\n  var cursorPos = $('#msgText').prop('selectionStart');\n  var textBefore = text.substring(0, cursorPos);\n  var textAfter = text.substring(cursorPos, text.length);\n\n  if ($(\"#columnList\").val() === null) {\n    return;\n  }\n\n  const hasVar = $('#msgText').val().includes(\"{#var#}\");\n  console.log(hasVar);\n  if (hasVar) {\n    $('#msgText').val(text.replace('{#var#}', $(\"#columnList\").val()));\n  } else {\n    $(\"#msgText\").val(textBefore + \"\" + $(\"#columnList\").val() + \"\" + textAfter);\n  }\n\n  msgCountUpdate();\n});\n\n$(function () {\n  const dTime = moment(new Date()).format(\"DDMMYYYY-HHmm\");\n  var CName = _scripts_user__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getName() + \"-campaign-\" + dTime;\n  $(\"#campaignName\").val(CName);\n});\n\n$(\"#fupload\").click(function (e) {\n  e.preventDefault();\n  const selectFile = $(\"#selectFile\").get(0).files[0];\n  var selectedFileName = $(\"#selectFile\").get(0).files[0].name;\n  if (selectedFileName.substr(selectedFileName.lastIndexOf('.') + 1) == \"txt\" || selectedFileName.substr(selectedFileName.lastIndexOf('.') + 1) == \"xls\") {\n    _scripts_alert__WEBPACK_IMPORTED_MODULE_5__[\"default\"].clearAll();\n    _scripts_alert__WEBPACK_IMPORTED_MODULE_5__[\"default\"].error(\"Please select Only .xlsx and .csv file\", { clearTime: 10 * 1000 });\n    return;\n  }\n  if (!selectFile) {\n    _scripts_alert__WEBPACK_IMPORTED_MODULE_5__[\"default\"].clearAll();\n    _scripts_alert__WEBPACK_IMPORTED_MODULE_5__[\"default\"].info(\"Please select a file.\");\n    return;\n  }\n\n  var ar = /^(\\d|\\w|-)+$/;\n  // var ar =  /^[a-zA-Z0-9!@#\\$%\\^\\&*\\)\\(+=._-]+$/;\n  if (ar.test(selectedFileName.split(\".\")[0]) == false) {\n    _scripts_alert__WEBPACK_IMPORTED_MODULE_5__[\"default\"].clearAll();\n    _scripts_alert__WEBPACK_IMPORTED_MODULE_5__[\"default\"].error(\"File Name should not contain space\", {\n      clearTime: 10 * 1000\n    });\n    return;\n  }\n\n  const formData1 = new FormData();\n  formData1.append(\"userName\", _scripts_user__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getName());\n  formData1.append(\"fileType\", \"xls\");\n  formData1.append(\"file\", selectFile);\n\n  const data2 = {};\n\n  $(\"#dynamic-msg-form\").serializeArray().forEach(i => {\n    var key = i.name;\n    if (key == \"campaignName\" || key == \"msgPart\" || key == \"msgType\" || key == \"templateName\") {\n      formData1.append(i.name, i.value);\n    }\n  });\n  //$(\"#btnSubmit\").attr(\"disabled\", true);\n  //$(\"#btnCancel\").attr(\"disabled\", true);\n\n  Object(_scripts_request__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_config_endpoints__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get(\"uploadDynamicMessage\"), \"POST\", formData1, {\n    showMainLoader: true,\n    contentType: false,\n    processData: false,\n    data: formData1\n  }).done(data => {\n\n    if (selectedFileName.substr(selectedFileName.lastIndexOf('.') + 1) == \"zip\") {\n      $(\".splitFileGroup\").addClass(\"d-none\");\n    }\n\n    if (_config_endpoints__WEBPACK_IMPORTED_MODULE_4__[\"default\"].validateResponse(data)) {\n\n      _scripts_alert__WEBPACK_IMPORTED_MODULE_5__[\"default\"].clearAll();\n      _scripts_alert__WEBPACK_IMPORTED_MODULE_5__[\"default\"].clearAll();\n      data.message && (data.result === \"Success\" ? _scripts_alert__WEBPACK_IMPORTED_MODULE_5__[\"default\"].success(data.message, {\n        clearTime: 10 * 1000\n      }) : _scripts_alert__WEBPACK_IMPORTED_MODULE_5__[\"default\"].error(data.message, {\n        clearTime: 10 * 1000\n      }));\n\n      uploadedFileName = data.data.fileName;\n      uploadedZipFileNames = data.data.uploadedDynamicfileName;\n\n      $(\"#selectFile\").attr(\"disabled\", \"true\");\n      $(\"#fupload\").attr(\"disabled\", \"true\");\n\n      var numberSelect = document.getElementById(\"mobileNumber\");\n      const headerList = data.data.columnHeaderMap;\n      $.each(headerList, function (key, value) {\n        let isSelected = key == \"Mobile\" ? true : false;\n        numberSelect.options[numberSelect.options.length] = new Option(key, value, isSelected, isSelected);\n      });\n\n      var coloumList = document.getElementById(\"columnList\");\n      //      const headerList = data.data.columnHeaderMap;\n      $.each(headerList, function (key, value) {\n        coloumList.options[coloumList.options.length] = new Option(key, value);\n      });\n    }\n  });\n});\n\nconst dTime = moment(new Date()).format(\"DDMMYYYY-HHmm\");\nvar CName = _scripts_user__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getName() + \"-campaign-\" + dTime;\n$(\"#campaignName\").val(CName);\n\n$(\"#dynamic-msg-form\").submit(function (e) {\n  console.log(\"printing\");\n  e.preventDefault();\n  console.log(\"printing 2\");\n\n  var ar = /^[a-zA-Z0-9!@#\\$%\\^\\&*\\)\\(+=._-]+$/;\n  if ($(\"#campaignName\").val() != campaignName) {\n    if (ar.test($(\"#campaignName\").val()) == false) {\n      _scripts_alert__WEBPACK_IMPORTED_MODULE_5__[\"default\"].clearAll();\n      _scripts_alert__WEBPACK_IMPORTED_MODULE_5__[\"default\"].error(\"Campaign Name should not contain space or special character\", {\n        clearTime: 10 * 1000\n      });\n      return;\n    }\n  }\n\n  // if campaign name contains % then show alert message\n\n  if ($(\"#campaignName\").val().indexOf(\"%\") != -1) {\n    _scripts_alert__WEBPACK_IMPORTED_MODULE_5__[\"default\"].clearAll();\n    _scripts_alert__WEBPACK_IMPORTED_MODULE_5__[\"default\"].error(\"Campaign Name should not contain % character \", {\n      clearTime: 10 * 1000\n    });\n    return;\n  }\n\n  const additionalData = {\n    loggedInUserName: _scripts_user__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getName()\n  };\n\n  const data2 = {\n    scheduleInfo: {\n      splitPart: []\n    }\n  };\n\n  $(this).serializeArray().forEach(i => {\n    if (i.value) {\n      data2[i.name] = i.value;\n    }\n  });\n\n  console.log(data2);\n\n  if (data2['convertShortUrl'] == \"N\") {\n    delete data2[\"callbackUrl\"];\n    delete data2[\"domainName\"];\n  }\n  const dTime = moment(new Date()).format(\"DDMMYYYY-HHmm\");\n  var CName = $(\"#campaignName\").val();\n  if (CName.length == 0) {\n    CName = _scripts_user__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getName() + \"-campaign-\" + dTime;\n  }\n  data2[\"campaignName\"] = CName;\n\n  const splitFile = $(\"input[name=splitFile]:checked\").val();\n\n  if (splitFile === \"no\" && data2['scheduleMessage'] === \"yes\") {\n    var scheduleDateTime = $(\"#scheduleDateTime\").val();\n    if (!scheduleDateTime) {\n      _scripts_alert__WEBPACK_IMPORTED_MODULE_5__[\"default\"].error(\"Please Choose Scheduling Date and Time\");\n      return;\n    }\n  } else if (splitFile === \"yes\" && data2['scheduleMessage'] === \"yes\") {\n    var scheduleDate = $(\"#scheduleDate\").val();\n    if (!scheduleDate) {\n      _scripts_alert__WEBPACK_IMPORTED_MODULE_5__[\"default\"].error(\"Please Choose Scheduling Date\");\n      return;\n    }\n  }\n\n  if (data2['scheduleMessage'] == \"no\") {\n    delete data2[\"scheduleDate\"];\n  } else {\n\n    if (splitFile == \"yes\") {\n\n      var frm = $(this).serializeArray();\n      console.log(data2);\n      var j = 18;\n      for (var i = j; i < frm.length;) {\n        data2.scheduleInfo.splitPart.push({\n          id: (data2.scheduleInfo.splitPart.length + 1).toString(),\n          from: frm[i].value,\n          to: frm[i + 1].value,\n          hh: frm[i + 2].value,\n          mm: frm[i + 3].value\n        });\n        i = i + 4;\n      }\n    } else {\n      console.log(\"scheduleDateTime\");\n      console.log(data2[\"scheduleDateTime\"]);\n      var splitDateTime = data2[\"scheduleDateTime\"].split(/\\s+/);\n      console.log(splitDateTime);\n      data2[\"scheduleDate\"] = splitDateTime[0];\n      var splitTime = splitDateTime[1].split(\":\");\n      data2[\"scheduleHour\"] = splitTime[0];\n      data2[\"scheduleMinute\"] = splitTime[1];\n      delete data2['scheduleDateTime'];\n    }\n  }\n  data2['fileName'] = uploadedFileName;\n\n  var serviceType = $(\"input[name=serviceType]:checked\").val();\n  if (serviceType == \"trans\" || serviceType == \"promo\") {\n    delete data2['serviceSubType'];\n  }\n\n  if (splitFile === \"no\" && data2['scheduleMessage'] === \"yes\") {\n    var scheduleDateTime = $(\"#scheduleDateTime\").val();\n    if (!scheduleDateTime) {\n      _scripts_alert__WEBPACK_IMPORTED_MODULE_5__[\"default\"].error(\"Please Choose Scheduling Date and Time\");\n      return;\n    }\n\n    var scheduleDateTime = $(\"#scheduleDateTime\").val();\n    var dateTime = scheduleDateTime.split(/\\s+/);\n    var scheduleDate = dateTime[0];\n    var splitTime = dateTime[1].split(\":\");\n    var hour = splitTime[0];\n    var min = splitTime[1];\n\n    var currentdate = new Date();\n\n    var startTime = new Date(toValidDate(scheduleDate[2] + \"/\" + scheduleDate[1] + \"/\" + scheduleDate[0] + ' ' + hour + ':' + min));\n    if (startTime <= currentdate) {\n      _scripts_alert__WEBPACK_IMPORTED_MODULE_5__[\"default\"].clearAll();\n      _scripts_alert__WEBPACK_IMPORTED_MODULE_5__[\"default\"].error(\"Date Time Mismatch\", { clearTime: 20 * 1000 });\n      dateValidation = false;\n      return;\n    }\n  } else if (splitFile === \"yes\" && data2['scheduleMessage'] === \"yes\") {\n    var scheduleDate = $(\"#scheduleDate\").val().split(\"//\");\n    var dt = new Date();\n    var obj = data2.scheduleInfo.splitPart;\n\n    $.each(obj, function (key, value) {\n      var d = new Date(toValidDate(scheduleDate[2] + \"/\" + scheduleDate[1] + \"/\" + scheduleDate[0] + ' ' + value.hh + ':' + value.mm));\n      console.log(d);\n      if (d <= new Date()) {\n        _scripts_alert__WEBPACK_IMPORTED_MODULE_5__[\"default\"].clearAll();\n        _scripts_alert__WEBPACK_IMPORTED_MODULE_5__[\"default\"].clearAll();\n        _scripts_alert__WEBPACK_IMPORTED_MODULE_5__[\"default\"].error(\"Date Time Mismatch\", { clearTime: 10 * 1000 });\n        dateValidation = false;\n        return;\n      }\n    });\n  }\n\n  data2['uploadedDynamicfileName'] = uploadedZipFileNames;\n\n  delete data2['hour'];\n  delete data2['min'];\n  delete data2['scheduleMessageFrom'];\n  delete data2['scheduleMessageTo'];\n  delete data2['split_date'];\n  delete data2['scheduleDateTime'];\n\n  $(\"#btnSubmit\").attr(\"disabled\", true);\n  Object(_scripts_request__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_config_endpoints__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get(\"getDynamicPreview\"), \"POST\", $.extend({}, data2, additionalData), { showMainLoader: true }).done(resData => {\n    if (_config_endpoints__WEBPACK_IMPORTED_MODULE_4__[\"default\"].validateResponse(resData)) {\n      console.log(resData);\n      var tData = resData.previewDataMap;\n\n      $(\"#totalCount\").html(resData.totalCount);\n      $(\"#count\").html(resData.plainCount);\n      $(\"#credit\").html(resData.plainCredit);\n      $(\"#uniCode\").html(resData.unicodeCount);\n      $(\"#uniCodeCr\").html(resData.unicodeCredit);\n      var html = \"\";\n      Object.keys(tData).forEach(function (key) {\n        console.log(key + ': ' + tData[key]);\n        var TextValue = tData[key];\n        if (TextValue.match(/\\`|\\~/)) {\n          var test = TextValue.replace(/\\`/g, \"'\");\n          TextValue = TextValue.replace(/\\`/g, \"'\");\n          // $(\"#modelMessage\").html($(\"#msgText\").val(test));\n          tData[key] = test;\n        }\n        html = html + \"<tr><td>\" + key.split('Æ')[0] + \"</td><td class='text-wrap'>\" + tData[key] + \"</td></tr>\";\n        console.log(html);\n      });\n      $(\"#tBody\").html(html);\n\n      $('#messageModal').modal('show');\n    }\n  });\n});\n\nfunction toValidDate(datestring) {\n  return datestring.replace(/(\\d{2})(\\/)(\\d{2})/, \"$3$2$1\");\n}\n\n$('#messageModal').on('shown.bs.modal', function () {\n  var table = $('#dyamicPreviewTable').DataTable({\n    \"paging\": false,\n    \"bPaginate\": false,\n    \"bLengthChange\": false,\n    \"bFilter\": false,\n    \"createdRow\": function (row, data, dataIndex) {\n      $(row).children(':nth-child(2)').css(\"overflow-wrap\", \"anywhere\");\n    }\n  });\n  //destroy table\n\n  table.destroy();\n});\n\n$('#messageModal').on('hidden.bs.modal', function () {\n  // do something…\n  $(\"#btnSubmit\").removeAttr(\"disabled\");\n});\n\n//if campaign is scheduled then show the schedule insted of send now\n$(\"#scheduleMessage-0\").click(function () {\n  if ($(\"#scheduleMessage-0\").is(\":checked\")) {\n    $('#sendNow').text('Schedule Now');\n  }\n});\n\n$('input[name=\"scheduleDateTime\"]').change(function () {\n  var selectedDate = $('input[name=\"scheduleDateTime\"]').val();\n  console.log(selectedDate, 'selectedDate');\n  var currentDate = new Date();\n  console.log(currentDate, 'currentDate');\n  var currentDateString = currentDate.getFullYear() + \"-\" + (currentDate.getMonth() + 1) + \"-\" + currentDate.getDate() + \" \" + currentDate.getHours() + \":\" + currentDate.getMinutes();\n  console.log(currentDateString, 'currentDateString');\n  var currentDateTime = new Date(currentDateString);\n  console.log(currentDateTime, 'currentDateTime');\n  var selectedDateTime = new Date(selectedDate);\n  console.log(selectedDateTime, 'selectedDateTime');\n  console.log(selectedDateTime.getTime() < currentDateTime.getTime(), 'selectedDateTime.getTime() < currentDateTime.getTime()');\n  if (selectedDateTime.getTime() < currentDateTime.getTime()) {\n    alert(\"Selected date and time is less than current date and time\");\n    $('input[name=\"scheduleDateTime\"]').val(\"\");\n  }\n});\n\n$(\"#sendNow\").click(function () {\n  const splitFile = $(\"input[name=splitFile]:checked\").val();\n  var TextValue = $(\"#msgText\").val();\n  if (TextValue.match(/\\`|\\~/)) {\n    var test = TextValue.replace(/\\`/g, \"'\");\n    TextValue = TextValue.replace(/\\`/g, \"'\");\n    // $(\"#modelMessage\").html($(\"#msgText\").val(test));\n    $(\"#msgText\").val(test);\n  }\n  // $(\"#btnSubmit\").attr(\"disabled\", true);\n  $(\"#sendNow\").addClass(\"d-none\");\n  const dTime = moment(new Date()).format(\"DDMMYYYY-HHmm\");\n  const additionalData = {\n    loggedInUserName: _scripts_user__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getName()\n  };\n\n  const data2 = {\n    scheduleInfo: {\n      splitPart: []\n    }\n  };\n\n  $(\"#dynamic-msg-form\").serializeArray().forEach(i => {\n    if (i.value) {\n      data2[i.name] = i.value;\n    }\n  });\n  var CName = $(\"#campaignName\").val();\n  if (CName.length == 0) {\n    CName = _scripts_user__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getName() + \"-campaign-\" + dTime;\n  }\n  data2[\"campaignName\"] = CName;\n  if (data2['scheduleMessage'] == \"no\") {\n    delete data2[\"scheduleDate\"];\n  } else {\n    const splitFile = $(\"input[name=splitFile]:checked\").val();\n    if (splitFile == \"yes\") {\n      // delete data2['hour'];\n      // delete data2['min'];\n      // delete data2['scheduleMessageFrom'];\n      // delete data2['scheduleMessageTo'];\n      // delete data2['split_date'];\n      // delete data2['scheduleDateTime'];\n\n      var frm = $(\"#dynamic-msg-form\").serializeArray();\n      var j = 18;\n      for (var i = j; i < frm.length;) {\n        data2.scheduleInfo.splitPart.push({\n          id: (data2.scheduleInfo.splitPart.length + 1).toString(),\n          from: frm[i].value,\n          to: frm[i + 1].value,\n          hh: frm[i + 2].value,\n          mm: frm[i + 3].value\n        });\n        i = i + 4;\n      }\n    } else {\n      console.log(\"scheduleDateTime\");\n      console.log(data2[\"scheduleDateTime\"]);\n      var splitDateTime = data2[\"scheduleDateTime\"].split(/\\s+/);\n      console.log(splitDateTime);\n      data2[\"scheduleDate\"] = splitDateTime[0];\n      var splitTime = splitDateTime[1].split(\":\");\n      data2[\"scheduleHour\"] = splitTime[0];\n      data2[\"scheduleMinute\"] = splitTime[1];\n      delete data2['scheduleDateTime'];\n    }\n  }\n  data2['fileName'] = uploadedFileName;\n\n  if (data2['convertShortUrl'] == \"N\") {\n    delete data2[\"callbackUrl\"];\n    // delete data2[\"domainName\"];\n    delete data2[\"userDomain\"];\n  } else {\n    let frameCallback = $(\"#callBackDomainUrl\").val() + data2[\"callbackUrl\"];\n    data2[\"callbackUrl\"] = data2[\"callbackUrl\"] ? frameCallback : \"\";\n  }\n\n  var selValue = $(\"input[name='serviceType']:checked\").val();\n  if (selValue == \"trans\" || selValue == \"promo\") {\n    delete data2['serviceSubType'];\n  }\n\n  data2['perMsgCredit'] = $('#smsCr').text();\n\n  delete data2['hour'];\n  delete data2['min'];\n  delete data2['scheduleMessageFrom'];\n  delete data2['scheduleMessageTo'];\n  delete data2['split_date'];\n  delete data2['scheduleDateTime'];\n  data2['uploadedDynamicfileName'] = uploadedZipFileNames;\n\n  Object(_scripts_request__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_config_endpoints__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get(\"sendDynamicSMS\"), \"POST\", $.extend({}, data2, additionalData), { showMainLoader: true }).done(resData => {\n    if (_config_endpoints__WEBPACK_IMPORTED_MODULE_4__[\"default\"].validateResponse(resData)) {\n      console.log(resData.message);\n      $(\"#dynamic-msg-form\")[0].reset();\n      $('#messageModal').modal('hide');\n      $(\"#campaignName\").val(CName);\n      _scripts_alert__WEBPACK_IMPORTED_MODULE_5__[\"default\"].clearAll();\n      resData.message && (resData.result === \"Success\" ? _scripts_alert__WEBPACK_IMPORTED_MODULE_5__[\"default\"].success(resData.message) : _scripts_alert__WEBPACK_IMPORTED_MODULE_5__[\"default\"].error(resData.message));\n    }\n  });\n});\n\n$('#dynamic-msg-form').on('reset', function (e) {\n  uploadedFileName = null;\n  $(\"#selectFile\").removeAttr(\"disabled\");\n  $(\"#fupload\").removeAttr(\"disabled\");\n  $(\".custom-file-label\").html('Choose File');\n  $(\".scheduleDateGroup\").addClass('d-none');\n  $(\"#btnSubmit\").attr(\"disabled\", false);\n  $(\"#sendNow\").removeClass(\"d-none\");\n  $(\"#schd_msg\").addClass(\"d-none\");\n  $(\".shortUrlDisplayBlock\").addClass(\"d-none\");\n  $(\".displayTemplateTextSpan\").addClass(\"d-none\");\n  $(\".custom-file-label\").html('Choose File');\n  $(\".add_split_row\").html(\"\");\n  $(\"#entityId\").val('');\n  $(\"#operatorTemplateId\").val('');\n  $(\"#entityId\").removeAttr(\"readonly\");\n  $(\"#operatorTemplateId\").removeAttr(\"readonly\");\n  $('#charCount').html('0 character');\n  $('#smsCr').html('0');\n  $('#mobileNumber').empty().append('<option disabled selected >-- Select --</option>');\n  $('#columnList').empty().append('<option selected value=\"\">-- Select --</option>');\n\n  // $(\"#campaignName\").val(CName);\n\n  var mobileNumber = document.getElementById(\"mobileNumber\");\n  mobileNumber.options.length = 0;\n  var columnList = document.getElementById(\"columnList\");\n  columnList.options.length = 0;\n});\n\n$(document).ready(function () {\n  const datalist = {\n    loggedInUserName: _scripts_user__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getName(),\n    messageType: \"other\",\n    messageSubType: \"\"\n  };\n  var senderIdList = document.getElementById(\"senderIdSelect\");\n  Object(_scripts_request__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_config_endpoints__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get(\"senderIdListByMessageType\"), \"POST\", datalist).done(data => {\n    const tempList = data.data.senderIdList;\n    $.each(tempList, function (key, value) {\n      senderIdList.options[senderIdList.options.length] = new Option(value.senderId, value.senderId);\n    });\n    $(\"#senderIdSelect\").select2();\n  });\n  $(\".messagetype\").click(function () {\n    var selValue = $(this).val();\n    if (selValue == \"trans\" || selValue == \"promo\") {\n      $(\".service_type\").addClass(\"d-none\");\n    } else {\n      $(\".service_type\").removeClass(\"d-none\");\n    }\n  });\n});\n\n$(\".messagetype\").click(function () {\n  var selValue = $(this).val();\n  if (selValue == \"trans\" || selValue == \"service\") {\n    $('#senderIdSelect').empty().append('<option disabled selected >-- Select --</option>');\n    $('#templatename').empty().append('<option selected value=\"\">-- Select --</option>');\n    const datalist = {\n      loggedInUserName: _scripts_user__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getName(),\n      messageType: \"other\",\n      messageSubType: \"\"\n    };\n    var senderIdList = document.getElementById(\"senderIdSelect\");\n    Object(_scripts_request__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_config_endpoints__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get(\"senderIdListByMessageType\"), \"POST\", datalist).done(data => {\n      const tempList = data.data.senderIdList;\n      $.each(tempList, function (key, value) {\n        senderIdList.options[senderIdList.options.length] = new Option(value.senderId, value.senderId);\n      });\n      $(\"#senderIdSelect\").select2();\n    });\n  } else {\n    $('#senderIdSelect').empty().append('<option disabled selected >-- Select --</option>');\n    $('#templatename').empty().append('<option selected value=\"\">-- Select --</option>');\n    const datalist = {\n      loggedInUserName: _scripts_user__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getName(),\n      messageType: selValue,\n      messageSubType: \"\"\n    };\n    var senderIdList = document.getElementById(\"senderIdSelect\");\n    Object(_scripts_request__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_config_endpoints__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get(\"senderIdListByMessageType\"), \"POST\", datalist).done(data => {\n      const tempList = data.data.senderIdList;\n      $.each(tempList, function (key, value) {\n        senderIdList.options[senderIdList.options.length] = new Option(value.senderId, value.senderId);\n      });\n      $(\"#senderIdSelect\").select2();\n    });\n  }\n});\n\nvar selectTemplateName;\n\n$(\".isShortUrlSelectedInput\").change(function () {\n  let value = $(\"input[name=convertShortUrl]:checked\").val();\n  if (value === \"Y\") {\n    $(\".shortUrlDisplayBlock\").removeClass(\"d-none\");\n  } else {\n    $(\".shortUrlDisplayBlock\").addClass(\"d-none\");\n  }\n});\n\n$(\"#senderIdSelectDiv .senderIdSelect\").change(function () {\n  $('#templatename').empty().append('<option selected value=\"\">-- Select --</option>');\n  var senderid = $(this).children(\"option:selected\").val();\n  var serviceType = $(\"input[name=serviceType]:checked\").val();\n  if (serviceType == \"service\") {\n    var service = $(\"input[name=serviceSubType]:checked\").val();\n  } else {\n    var service = \"\";\n  }\n  $(\"input[name=serviceType]:checked\").val();\n  const datalist = {\n    loggedInUserName: _scripts_user__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getName(),\n    messageType: serviceType,\n    messageSubType: service,\n    senderId: senderid\n  };\n  var templateTitleSelect = document.getElementById(\"templatename\");\n  Object(_scripts_request__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_config_endpoints__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get(\"viewAllContentTemplateListByMessageType\"), \"POST\", datalist).done(data => {\n    const tempList = data.data.contentTemplateList;\n    selectTemplateName = tempList;\n    $.each(tempList, function (key, value) {\n      templateTitleSelect.options[templateTitleSelect.options.length] = new Option(value.templateTitle, value.templateId);\n    });\n    $(\"#templatename\").select2();\n  });\n});\n\n$(\"#templatename\").change(function () {\n  var contentTemplateId = $(this).children(\"option:selected\").val();\n  var txt = selectTemplateName.find(x => x.templateId == contentTemplateId);\n  if (txt) {\n    $(\"#msgText\").val(txt.templateText);\n    $(\"#displayTemplateText\").html(txt.templateText);\n    // $(\".displayTemplateTextSpan\").removeClass(\"d-none\");\n    msgCountUpdate();\n    $(\"#entityId\").val(txt.entityId);\n    $(\"#operatorTemplateId\").val(txt.operatorTemplateId);\n    $(\"#entityId\").prop(\"readonly\", true);\n    $(\"#operatorTemplateId\").prop(\"readonly\", true);\n  } else {\n    $(\"#msgText\").val(\"\");\n    $(\"#msgText\").removeAttr(\"readonly\");\n    $(\"#displayTemplateText\").html(\"\");\n    $(\".displayTemplateTextSpan\").addClass(\"d-none\");\n    $(\"#entityId\").val('');\n    $(\"#operatorTemplateId\").val('');\n    $(\"#entityId\").removeAttr(\"readonly\");\n    $(\"#operatorTemplateId\").removeAttr(\"readonly\");\n    msgCountUpdate();\n  }\n});\n\nvar isPlainMsg = true;\n$(\"#msgText\").keyup(() => {\n  msgCountUpdate();\n});\n\nfunction msgCountUpdate() {\n  var plain = new RegExp(\"^[A-Za-z0-9_~\\\\`\\\\-!:\\\\/.@\\\\|\\\\,#\\\\$%\\\\^&\\\\*\\\\(\\\\)\\n\\s +=\\\\\\\\{}\\\\[\\\\];'\\\"<>?₹]*$\");\n\n  var sectionToCheck = $(\"#msgText\").val();\n  var allFoundCharacters = sectionToCheck.match(/[\\[\\]\\{\\}\\\\|\\^€\\~]/g);\n  var splCharCount = allFoundCharacters ? allFoundCharacters.length : 0; //count\n  var charCount = 0;\n  if (sectionToCheck.match(/[\\~]/g)) {\n    charCount = parseInt($(\"#msgText\").val().length) + parseInt(\"0\");\n  } else {\n    charCount = parseInt($(\"#msgText\").val().length) + parseInt(splCharCount);\n  }\n  var sms = 0;\n  if (plain.test($(\"#msgText\").val().trim())) {\n    //  console.log(\"plain\");\n    isPlainMsg = true;\n    if (charCount > 160) {\n      var n = charCount / 153;\n      var dec = Math.ceil(n);\n      sms = dec;\n    } else if (charCount != 0 && charCount <= 160) {\n      sms = 1;\n    } else {\n      sms = 0;\n    }\n    $(\"#charCount\").html(charCount + \" characters\");\n  } else {\n    isPlainMsg = false;\n    if (charCount > 70) {\n      var n = charCount / 67;\n      var dec = Math.ceil(n);\n      sms = dec;\n    } else if (charCount != 0 && charCount <= 70) {\n      sms = 1;\n    } else {\n      sms = 0;\n    }\n  }\n  // var mobileCount  = parserInt($(\"#totalMobile\").html());\n  if (plain.test($(\"#msgText\").val().trim())) {\n    $(\"#charCount\").html(charCount + \" characters\");\n  } else {\n    $(\"#charCount\").html(charCount + \" unicode characters\");\n  }\n  // var mobileCount  = parserInt($(\"#totalMobile\").html());\n  $(\"#smsCr\").html(sms);\n}\n\n//# sourceURL=webpack:///./src/layouts/dynamic-message/index.js?");

/***/ }),

/***/ "./src/layouts/dynamic-message/styles.css":
/*!************************************************!*\
  !*** ./src/layouts/dynamic-message/styles.css ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("\nvar content = __webpack_require__(/*! !../../../node_modules/css-loader!./styles.css */ \"./node_modules/css-loader/index.js!./src/layouts/dynamic-message/styles.css\");\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(/*! ../../../node_modules/style-loader/lib/addStyles.js */ \"./node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n//# sourceURL=webpack:///./src/layouts/dynamic-message/styles.css?");

/***/ })

/******/ });