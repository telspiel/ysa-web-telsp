{{> sideNav this }}
<!-- [ Main Content ] start -->
<div class="pcoded-main-container">
  <div class="pcoded-content">
    <!-- [ Main Content ] start -->
    <div class="p-0">
      <div class="p-0 contant-holder">
        <!-- contant holder start -->
        <h3 class="main-head-3">Dynamic Message</h3>
        <!-- contant holder end -->
        <div class="col-md-12 m-auto pt-2 pb-5">

          {{!--
          <!-- Nav tabs -->
          <ul class="nav nav-tabs mb-4">
            <li class="nav-item">
              <a class="nav-link active" data-toggle="tab" href="#home">Dynamic Message</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" data-toggle="tab" href="#menu1" id="view-campaign-tab">Scheduled Dynamic Message</a>
            </li>
          </ul>

          <!-- Tab panes -->
          <div class="tab-content">
            <div class="tab-pane active" id="home"> --}}
              <div class="col-md-10 m-auto ">

                <div class="frm-border">
                  <div class="add-contact">
                    <form id="dynamic-msg-form" class="my-4">
                      <div class="form-group row">
                        <label for="campaignName" class="col-md-4 col-form-label">Campaign Name</label>
                        <div class="col-md-6">
                          <input type="text" class="form-control" id="campaignName" name="campaignName" value=""
                            title="Title" placeholder="Name" autocomplete="off">
                            <span class="txt-center">Note : Special characters are not allowed in campaign name like SPACE , [ ] { } | \ ; : " ' < >  .  ? / ~ `</span>
                        </div>
                      </div>
                      <div class="form-group row">
                        <label for="msgType-0" class="col-md-4 col-form-label">Message Encoding</label>
                        <div class="col-md-8">
                          <div class="custom-control custom-radio">
                            <input class="custom-control-input" type="radio" name="msgType" value="plain" id="msgType-0"
                              title="Select Message Type" checked="checked">
                            <label class="custom-control-label" for="msgType-0">SMS</label>
                          </div>
                          <div class="custom-control custom-radio">
                            <input class="custom-control-input" type="radio" name="msgType" value="FL" id="msgType-2"
                              title="Select Message Type"> <label class="custom-control-label"
                              for="msgType-2">Flash</label>
                          </div>
                        </div>
                      </div>

                      <div class="form-group row">
                        <label for="selectFile" class="col-md-4 col-form-label">File Upload</label>
                        <div class="col-md-6">
                          <div class="custom-file">
                            <input type="file" class="custom-file-input" id="selectFile" name="selectFile"
                              accept=".csv, .txt, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel">
                            <label class="custom-file-label" for="customFile">Choose file</label>
                          </div>
                          <small>Note : Only .xlsx and .xls are allowed</small>
                        </div>
                        <div class="col-md-2">
                          <button type="button" id="fupload" class="btn btn-primary">Upload</button>
                        </div>
                      </div>
                      <div class="row form-group">
                        <div class="col-md-4">
                          <label for="MessageType">Message Type </label>
                        </div>
                        <div class="col-md-8 ">
                          <div class="col-md-3 custom-control custom-radio">
                            <input class="custom-control-input messagetype" type="radio" name="serviceType"
                              value="trans" id="messType-0" title="Message Type" checked="checked"> <label
                              class="custom-control-label" for="messType-0">Transactional</label>
                          </div>
                          <div class=" col-md-3 custom-control custom-radio ">
                            <input class="custom-control-input messagetype" type="radio" name="serviceType"
                              value="promo" id="messType-1" title="Message Type">
                            <label class="custom-control-label" for="messType-1">Promotional</label>
                          </div>
                          <div class=" col-md-2 custom-control custom-radio ">
                            <input class="custom-control-input messagetype" type="radio" name="serviceType"
                              value="service" id="messType-2" title="Message Type"> <label class="custom-control-label"
                              for="messType-2">Service</label>
                          </div>
                        </div>
                      </div>
                      <div class="row form-group service_type d-none ">
                        <div class="col-md-4">
                        </div>
                        <div class="col-md-6 ">
                          <div class="col-md-3 custom-control custom-radio">
                            <input class="custom-control-input " type="radio" name="serviceSubType"
                              value="service-implicit" id="serType-0" title="Service type" checked="checked"> <label
                              class="custom-control-label" for="serType-0">Service Implicit</label>
                          </div>
                          <div class="col-md-3 custom-control custom-radio ">
                            <input class="custom-control-input" type="radio" name="serviceSubType"
                              value="service-explicit" id="serType-1" title="Service type">
                            <label class="custom-control-label" for="serType-1">Service Explicit</label>
                          </div>
                        </div>
                      </div>
                      <div class="form-group row" id="senderIdSelectDiv">
                        <label for="senderId" class="col-md-4 col-form-label">Sender Id</label>
                        <div class="col-md-6">
                          <select type="text" class="form-control custom-select senderIdSelect" id="senderIdSelect"
                            name="senderId" required onfocus='this.size=5;' onblur='this.size=1;' onchange='this.size=1; this.blur();'>
                            <option disabled selected>-- Select --</option>
                          </select>
                        </div>
                      </div>
                      <div class="row form-group">
                        <div class="col-md-4">
                          <label for="templatename" class="col-form-label">Content Template Name </label>
                        </div>
                        <div class="col-md-6">
                          <select class="custom-select" id="templatename" name="contentTemplateId"
                            title="Template Name" onfocus='this.size=5;' onblur='this.size=1;' onchange='this.size=1; this.blur();'>
                            <option selected value="0">-- Select --</option>
                          </select>
                          <span class="displayTemplateTextSpan d-none"><small><b>Template Text : </b></small><small
                              id="displayTemplateText"></small></span>
                        </div>
                      </div>
                      <div class="form-group row">
                        <label for="mobileNumber" class="col-md-4 col-form-label">Mobile Number</label>
                        <div class="col-md-6">
                          <select type="text" class="form-control custom-select" id="mobileNumber" name="mobileNumber"
                            required>
                            {{!-- <option disabled="">-- Select --</option> --}}
                          </select>
                        </div>
                      </div>
                      <div class="form-group row hidden" id="chooseTemplate-row">
                        <label for="columnList" class="col-md-4 col-form-label">Column List</label>
                        <div class="col-md-6">
                          <select type="text" class="form-control custom-select" id="columnList" name="columnList"
                            required>
                            <option disabled="">-- Select --</option>
                          </select>
                        </div>
                        <div class="col-md-2">
                          <button type="button" id="addToMsg" class="btn btn-primary">Add to Text</button>
                        </div>
                      </div>
                      <div class="form-group row">
                        <label for="msgText" class="col-md-4 col-form-label">Message Text</label>
                        <div class="col-md-6">
                          <textarea name="msgText" id="msgText" rows="5" class="form-control" required
                            placeholder="Message Text" required></textarea>
                          <span class="txt-center"><span id="charCount">0 characters</span> | <span id="smsCr">0</span>
                            SMS
                            Credit</span>
                        </div>
                      </div>

                      <div class="form-group row convShortUrlDiv">
                        <label for="convShortUrl-0" class="col-md-4 col-form-label">Convert Short URL</label>
                        <div class="col-md-6 mt-2">
                          <div class="custom-control custom-radio">
                            <input class="custom-control-input isShortUrlSelectedInput" type="radio"
                              name="convertShortUrl" value="Y" id="convShortUrl-0" title="Convert Short URL"> <label
                              class="custom-control-label" for="convShortUrl-0">Yes</label>
                          </div>
                          <div class="custom-control custom-radio">
                            <input class="custom-control-input isShortUrlSelectedInput" type="radio"
                              name="convertShortUrl" value="N" id="convShortUrl-1" title="Schedule Message"
                              checked="checked">
                            <label class="custom-control-label" for="convShortUrl-1">No</label>
                          </div>
                        </div>
                      </div>

                      <div class="shortUrlDisplayBlock d-none">
                        <div class="form-group row domainDiv">
                          <label for="domain" class="col-md-4 col-form-label">Select Domain</label>
                          <div class="col-md-6">
                            <select type="text" class="form-control" id="domain" name="userDomain">
                              {{!-- <option value="gmly.in" selected>gmly.in</option> --}}
                              <option selected readonly value="">-- Select --</option>
                            </select>
                          </div>
                        </div>

                        <div class="form-group row callBackDomainUrlDiv">
                          <label for="callBackDomainUrl" class="col-md-4 col-form-label">Callback URL</label>
                          <div class="col-md-2">
                            <select type="text" class="form-control" id="callBackDomainUrl">
                              <option value="http://">http://</option>
                              <option value="https://">https://</option>
                            </select>
                          </div>
                          <div class="col-md-4">
                            {{!-- <textarea class="form-control" id="callbackUrl" name="callbackUrl" value=""
                              placeholder="Enter Callback URL"></textarea> --}}
                            <input type="text" class="form-control" id="callbackUrl" name="callbackUrl" value=""
                              title="Enter Callback URL" placeholder="Enter Callback URL" autocomplete="off">
                          </div>
                        </div>
                        <div class="form-group row callBackDomainUrlDiv">
                          <label class="col-md-4 col-form-label"></label>
                          <label class="col-md-8 col-form-label" style="line-break: anywhere;"><small><b>Sample URL :
                              </b>google.com?mobile=%MOBILE%&camp=%CAMPAIGN_NAME%&rectime=%RECTIME%&circle=%CIRCLE%&operator=%OPERATOR%</small></label>
                        </div>
                      </div>

                      <div class="row form-group quick-message">
                        <div class="col-md-4"><label for="entityId">Entity ID</label></div>
                        <div class="col-md-6"><input type="number" class="form-control" id="entityId" name="entityId"
                            value="" title="Entity ID" placeholder="Entity Id" pattern="[0-9]"></div>
                      </div>

                      <div class="row form-group quick-message">
                        <div class="col-md-4"><label for="operatorTemplateId">Operator Template ID</label></div>
                        <div class="col-md-6"><input type="text" class="form-control" id="operatorTemplateId"
                            name="dltTemplateId" value="" title="Operator Template ID"
                            placeholder="Operator Template Id" pattern="[a-zA-Z0-9]+"></div>
                      </div>

                      <div class="form-group row">
                        <label for="scheduleMessage-0" class="col-md-4 col-form-label">Schedule Message</label>
                        <div class="col-md-6 mt-2">
                          <div class="custom-control custom-radio">
                            <input class="custom-control-input" type="radio" name="scheduleMessage" value="yes"
                              id="scheduleMessage-0" title="Schedule Message"> <label class="custom-control-label"
                              for="scheduleMessage-0">Yes</label>
                          </div>
                          <div class="custom-control custom-radio">
                            <input class="custom-control-input" type="radio" name="scheduleMessage" value="no"
                              id="scheduleMessage-1" title="Schedule Message" checked="checked">
                            <label class="custom-control-label" for="scheduleMessage-1">No</label>
                          </div>
                        </div>
                      </div>
                      {{!-- <div class="form-group row scheduleDateGroup d-none">
                        <label for="senderId" class="col-md-4 col-form-label">Schedule Date</label>
                        <div class="col-md-6">
                          <input placeholder="From Date & Time" class="form-control" id="schedule_date" type="text"
                            name="scheduleDate" />
                        </div>
                      </div> --}}

                      <div class="d-none" id="schd_msg">
                        <div class="form-group row scheduleDateGroup hidden">
                          <label for="senderId" class="col-md-4 col-form-label">Schedule Date</label>
                          <div class="col-md-6">
                            <input placeholder="From Date & Time" class="form-control datetimepicker"
                              id="scheduleDateTime" type="text" name="scheduleDateTime" />
                          </div>
                        </div>
                        <div class="form-group row hidden d-none" id="schd_msg_div">
                          <label for="senderId" class="col-md-4 col-form-label">Schedule Date</label>
                          <div class="col-md-6">
                            <input placeholder="From Date &amp; Time" class="form-control datepicker" id="scheduleDate"
                              name="scheduleDate" type="text" readonly="readonly">
                          </div>
                        </div>
                        <div class="form-group row splitFileGroup hidden">
                          <label for="splitFile-0" class="col-md-4 col-form-label">Split File</label>
                          <div class="col-md-6 mt-2">
                            <div class="custom-control custom-radio">
                              <input class="custom-control-input" type="radio" name="splitFile" value="yes"
                                id="splitFile-0" title="Split File"> <label class="custom-control-label"
                                for="splitFile-0">Yes</label>
                            </div>
                            <div class="custom-control custom-radio">
                              <input class="custom-control-input" type="radio" name="splitFile" value="no"
                                id="splitFile-1" title="Split File" checked="checked">
                              <label class="custom-control-label" for="splitFile-1">No</label>
                            </div>
                          </div>
                        </div>

                        <div id="scheduleMsgFieldsGroup" class="d-none">
                          <div class="form-group row">
                            <label for="scheduleMessage" class="col-md-4 col-form-label"></label>
                            <div class="col-md-6">
                              <div class="row">
                                <div class="col-3 pr-0"><input type="number" min="1" max="5000000" name="scheduleMessageFrom"
                                    id="scheduleMessageFrom" class="form-control" placeholder="From"></div>
                                <div class="col-3 pr-0"><input type="number" min="1" max="5000000" name="scheduleMessageTo"
                                    id="scheduleMessageTo" class="form-control" placeholder="To"></div>
                                <div class="col-2 pr-0"><select name="hour" id="hour"
                                    class="form-control hour"></select>
                                </div>
                                <div class="col-1 pt-1">&nbsp;<b style="font-size: 20px;">:</b>&nbsp;</div>
                                <div class="col-2 p-0"><select name="min" id="min" class="form-control min"></select>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-2">
                              <button type="button" id="addMoreRows" class="btn btn-primary float-right"><i
                                  class="fa fa-plus" aria-hidden="true"></i>&ensp;Add Rows</button>
                            </div>
                          </div>
                          <div class="add_split_row"></div>
                        </div>
                      </div>


                      <div class="form-group text-center mt-5 mb-4">

                        <button id="btnSubmit" type="submit" class="btn btn-primary btn-form"><i
                            class="feather save icon-save float-left mt-1"></i>&ensp;Preview</button>
                        <button id="btnCancel" type="reset" class="btn btn-secondary btn-form"><i
                            class="feather x-square icon-x-square float-left mt-1"></i>&ensp;Cancel</button>
                      </div>
                    </form>

                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="footer-div">
      <span class="copy float-left">
        <p id="demo"></p> &copy; All Rights Reserved
      </span>
      <span class="float-right">
        <ul class="social-media-icon">
          <li><a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
          <li><a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
          <li><a href="#"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li>
          <li><a href="#"><i class="fa fa-rss" aria-hidden="true"></i></a></li>
          <li><a href="#"><i class="fa fa-whatsapp" aria-hidden="true"></i></a></li>
        </ul>
      </span>
    </div>
  </div>
  <!-- [ Main Content ] end -->
  {{> mainLoader }}


  <!-- Modal -->
  <div id="messageModal" class="modal fade" role="dialog">
    <div class="modal-dialog modal-lg">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">Preview Template</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="modal-body">
          <table class="table table-bordered dt-responsive nowrap table-sm" style="width:100%" id="dyamicPreviewTable">
            <thead>
            <tr>
              <th width="25%">Mobile</th>
              <th>Message</th>
            </tr>
            </thead>
            <tbody id="tBody">

            </tbody>
          </table>
          <span class="txt-center">
            Total Count : <span id="totalCount">0</span> |
            Plain Count : <span id="count">0</span> |
            Plain Credit : <span id="credit">0</span> |
            Unicode Count : <span id="uniCode">0</span> |
            Unicode Credit : <span id="uniCodeCr">0</span>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" id="sendNow">Send Now</button>
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>